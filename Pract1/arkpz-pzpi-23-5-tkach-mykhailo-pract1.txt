МІНІСТЕРСТВО НАУКИ І ОСВІТИ УКРАЇНИ

ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ
УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ


КАФЕДРА ПРОГРАМНОЇ ІНЖЕНЕРІЇ


ЗВІТ
До практичного завдання №1
з дисципліни «Аналіз та рефакторинг коду»
на тему «Правила оформлення програмного коду мовою C++»












Виконав:                                    Перевірив:
ст. гр. ПЗПІ-23-5                           ст. викладач кафедри ПІ
Ткач Михайло                                Сокорчук Ігор Петрович










Харків 2025

1. МЕТА РОБОТИ

     Сформувати розуміння важливості дотримання правил оформлення програмного коду мовою C++ та вивчити основні рекомендації написання коду для забезпечення його якості, підтримуваності та ефективності. Навчитися застосовувати принципи code convention, рефакторингу, оптимізації та обробки помилок для підвищення читабельності, структурованості та зрозумілості програмного забезпечення.
     
2. ХІД РОБОТИ

     2.1 Стильові рекомендації
     
     Ефективність коду є одним з ключових факторів при розробці C++, але дотримання єдиного стилю критично важливо для командної розробки. Існують офіційні стандарти, такі як C++ Core Guidelines та Google C++ Style Guide.
     Форматування коду зазвичай передбачає використання 4 пробілів (або 2, залежно від стандарту команди) для відступів. Довжина рядка не повинна перевищувати 80-100/120 символів. Фігурні дужки зазвичай ставляться на тому ж рядку для керуючих конструкцій (K&R стиль) або на новому (Allman стиль). У C++ часто використовується стиль, де відкриваюча дужка функції розіщується на новому рядку, а керуючих конструкцій — на тому ж.
     Пробіли використовуються навколо бінарних операторів (=, +, -, <<, >>). Порожні рядки відокремлюють логічні секції.
     Приклад:
      01: bool CanAccess(bool is_active, int access_level) {
      02:     // Перевірка прав доступу
      03:     if (is_active && access_level >= 3) { 
      04:         return true;
      05:     }
      06:     return false;
      07: }
     
2.2 Правила найменування змінних, функцій та класів

     C++ має різні угоди про найменування (Naming Conventions). Найпоширеніший підхід (Google Style):
     Типи (Класи, Структури, Enum): PascalCase (User, PaymentService).
     Змінні (локальні, параметри): snake_case (user_name, total_amount).
     Члени класу (поля): snake_case з суфіксом _ (user_name_, balance_).
     Функції: PascalCase або camelCase (CalculateTotal, getUserName).
     Константи: kCamelCase або UPPER_SNAKE_CASE (kMaxBuffer, MAX_RETRY).
     
     Приклад:
      01: class User {
      02:     std::string user_name_;  // private member
      03:
      04: public:
      05:     std::string GetUserName() const {
      06:         return user_name_;
      07:     }
      08: };

2.3 Структура коду

     C++ проекти зазвичай розділяють декларації та реалізацію.
     Заголовні файли (.h / .hpp) містять оголошення класів, прототипи функцій, шаблони, макроси. Обов'язково використовувати #pragma once або include guards.
     Файли реалізації (.cpp) містять визначення функцій та статичних членів.
     Порядок членів класу: public, protected, private. Спочатку типи, константи, конструктори, деструктори, потім методи, потім дані.
     
     Приклад заголовного файлу:
      01: #pragma once
      02: #include <string>
      03: 
      04: namespace my_project {
      05: 
      06: class User {
      07: public:
      08:     User(const std::string& name);
      09:     ~User();
      10:     
      11:     std::string GetName() const;
      12:     
      13: private:
      14:     std::string name_;
      15: };
      16: 
      17: } // namespace my_project
     
2.4 Принципи рефакторингу

     Екстракція методу (Extract Method) — винесення частини коду в окрему функцію.
     Приклад поганого коду:
      01: void ProcessOrder(Order& order) {
      02:     if (order.Total() > 1000 && order.IsPremium()) {
      03:         double discount = order.Total() * 0.15;
      04:         order.SetTotal(order.Total() - discount);
      05:         std::cout << "Discount applied: " << discount << std::endl;
      06:     }
      07: }
      
     Після рефакторингу:
      01: void ProcessOrder(Order& order) {
      02:     if (ShouldApplyDiscount(order)) {
      03:         ApplyDiscount(order);
      04:     }
      05: }
      06: 
      07: bool ShouldApplyDiscount(const Order& order) {
      08:     return order.Total() > 1000 && order.IsPremium();
      09: }

2.5 Оптимізація продуктивності

     У C++ важливо керувати пам'яттю та ресурсами.
     1. Передача за посиланням: Завжди передавайте складні об'єкти (рядки, вектори) за константним посиланням (const std::string&), щоб уникнути копіювання.
     2. Розумні вказівники: Використовуйте std::unique_ptr та std::shared_ptr замість new/delete для уникнення витоків пам'яті (RAII).
     3. move-семантика: Використовуйте std::move для переміщення ресурсів.
     
     Приклад (ефективна конкатенація):
      01: // Ефективно: reserve пам'ять заздалегідь
      02: std::string result;
      03: result.reserve(10000 * 5); 
      04: for (int i = 0; i < 10000; i++) {
      05:     result += std::to_string(i) + ", ";
      06: }

2.6 Обробка помилок

     Використовуйте винятки (exceptions) для критичних помилок або коди повернення / std::optional для очікуваних ситуацій.
     
     Приклад try-catch:
      01: try {
      02:     int result = Divide(10, 0);
      03: } catch (const std::invalid_argument& e) {
      04:     std::cerr << "Error: " << e.what() << std::endl;
      05: }
     
     Приклад std::optional (C++17):
      01: std::optional<User> FindUser(int id) {
      02:     if (db.Has(id)) return db.Get(id);
      03:     return std::nullopt;
      04: }

2.7 Дотримання парадигм програмування

     C++ — мультипарадигменна мова.
     ООП: Класи, спадкування, поліморфізм (virtual функції).
     Узагальнене програмування: Шаблони (templates) дозволяють писати код, незалежний від типів (наприклад, std::vector<T>).
     RAII (Resource Acquisition Is Initialization): Захоплення ресурсу при ініціалізації. Головний принцип C++ для керування ресурсами (файли, м'ютекси, пам'ять).
     
2.8 Тестування та документування коду

     Тестування: Стандарт де-факто для C++ — Google Test (GTest).
     Приклад GTest:
      01: TEST(CalculatorTest, AddReturnsSum) {
      02:     Calculator c;
      03:     EXPECT_EQ(5, c.Add(2, 3));
      04: }

     Документування: Стандарт — Doxygen. Використовуються коментарі /** ... */ або ///.
     Приклад:
      01: /// @brief Adds two numbers.
      02: /// @param a First number.
      03: /// @param b Second number.
      04: /// @return Sum of a and b.
      05: int Add(int a, int b);
     
     ВИСНОВКИ
     Правильне оформлення коду C++ (Code Style, RAII, Smart Pointers) та використання сучасних стандартів (C++17/20) забезпечують високу продуктивність, безпеку пам'яті та зручність підтримки. Використання інструментів як GTest та Doxygen є обов'язковим для професійної розробки.
     
ВИКОРИСТАНІ ДЖЕРЕЛА 
1. Stroustrup, B. The C++ Programming Language.
2. Google C++ Style Guide.
3. C++ Core Guidelines.

ДОДАТОК А
Посилання на відео
     https://youtu.be/aGfTwVpqblc
     Таймкоди:
     00:00 Вступ
     00:28 Стильові рекомендації C++
     01:08 Правила найменування
     02:26 Структура h/cpp файлів
     03:15 RAII та Smart Pointers
     04:03 Оптимізація (const reference)
     05:40 Обробка винятків
     06:58 Парадигми C++
     07:50 GTest
     08:30 Doxygen
     09:25 Висновки

ДОДАТОК Б
Слайди презентації
(слайди залишаються аналогічними до Java версії, адаптовані під тему C++)
